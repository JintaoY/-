(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/person/modify"],{"061a":function(e,t,n){"use strict";var o=n("bce4"),a=n.n(o);a.a},"3d68":function(e,t,n){"use strict";(function(e){n("9cb2"),n("921b");o(n("66fd"));var t=o(n("ad8d"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("6e42")["createPage"])},9292:function(e,t,n){"use strict";n.r(t);var o=n("ffce"),a=n.n(o);for(var i in o)"default"!==i&&function(e){n.d(t,e,function(){return o[e]})}(i);t["default"]=a.a},ad8d:function(e,t,n){"use strict";n.r(t);var o=n("f8a7"),a=n("9292");for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);n("061a");var s=n("2877"),c=Object(s["a"])(a["default"],o["a"],o["b"],!1,null,null,null);t["default"]=c.exports},bce4:function(e,t,n){},f8a7:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement;e._self._c;e._isMounted||(e.e0=function(t){!e.safety.state&&e.fnGetPhoneCode()})},a=[];n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a})},ffce:function(e,t,n){"use strict";(function(e,o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){return n.e("components/cmd-nav-bar/cmd-nav-bar").then(n.bind(null,"648f"))},i=function(){return n.e("components/cmd-page-body/cmd-page-body").then(n.bind(null,"e62a"))},s=function(){return n.e("components/cmd-transition/cmd-transition").then(n.bind(null,"91df"))},c=function(){return n.e("components/cmd-input/cmd-input").then(n.bind(null,"597a"))},d={components:{cmdNavBar:a,cmdPageBody:i,cmdTransition:s,cmdInput:c},data:function(){return{mobile:{phone:"",validateCode:""},phoneReg:/^[1](([3][0-9])|([4][5-9])|([5][0-3,5-9])|([6][5,6])|([7][0-8])|([8][0-9])|([9][1,8,9]))[0-9]{8}$/,safety:{time:60,state:!1,interval:""},modifyMobile:!1}},watch:{mobile:{handler:function(e){this.phoneReg.test(e.phone)&&6==e.validateCode.length?this.modifyMobile=!0:this.modifyMobile=!1},deep:!0}},methods:{fnModify:function(){var t=this,n=t.checkLogin("../person/modify",1);console.log(e(n[0]," at pages\\person\\modify.vue:92")),t.did=n[0],o.request({url:t.apiServer+"app/distributor/updataDistributor",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{did:t.did,mobile:t.mobile.phone,validateCode:t.mobile.validateCode},success:function(t){console.log(e(t," at pages\\person\\modify.vue:105")),console.log(e(t.data.status," at pages\\person\\modify.vue:106")),200==t.data.status?(o.removeStorageSync("DID"),o.showModal({title:"提交成功",content:"请重新登录",success:function(e){e.confirm?o.reLaunch({url:"/pages/login/login"}):e.cancel&&o.reLaunch({url:"/pages/login/login"})}})):1301==t.data.status?o.showToast({title:"验证码错误，请输入正确的验证码",icon:"none"}):o.showToast({title:t.data.msg})},fail:function(t){console.log(e(t," at pages\\person\\modify.vue:133")),o.showToast({title:"验证码获得失败，请重新尝试!",icon:"none"})},complete:function(){}})},fnGetPhoneCode:function(){var e=this,t=this;this.phoneReg.test(this.mobile.phone)?o.request({url:t.apiServer+"app/distributor/getValidateCode",method:"GET",data:{mobile:t.mobile.phone},success:function(n){e.safety.state=!0,e.safety.interval=setInterval(function(){e.safety.time--<=0&&(e.safety.time=60,e.safety.state=!1,clearInterval(e.safety.interval))},1e3),200==n.data.status?(o.showToast({title:"发送成功",icon:"success"}),t.mobile.validateCode=n.data.data):o.showToast({title:n.data.msg,icon:"none"})}}):o.showToast({title:"手机号不正确",icon:"none"})}},beforeDestroy:function(){clearInterval(this.safety.interval)}};t.default=d}).call(this,n("0de9")["default"],n("6e42")["default"])}},[["3d68","common/runtime","common/vendor"]]]);